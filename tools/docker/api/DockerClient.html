<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker-Client API | NorthBoat</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/Blog/logo.jpg">
    <meta name="description" content="该博客已停更">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.abe84f2e.css" as="style"><link rel="preload" href="/Blog/assets/js/app.5b462d01.js" as="script"><link rel="preload" href="/Blog/assets/js/2.6b285d51.js" as="script"><link rel="preload" href="/Blog/assets/js/115.f2688d1d.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.ffffc335.js"><link rel="prefetch" href="/Blog/assets/js/100.31fa9a16.js"><link rel="prefetch" href="/Blog/assets/js/101.2e03c2ea.js"><link rel="prefetch" href="/Blog/assets/js/102.c91a2d9c.js"><link rel="prefetch" href="/Blog/assets/js/103.37a07655.js"><link rel="prefetch" href="/Blog/assets/js/104.da02b323.js"><link rel="prefetch" href="/Blog/assets/js/105.202b7598.js"><link rel="prefetch" href="/Blog/assets/js/106.27a009e9.js"><link rel="prefetch" href="/Blog/assets/js/107.1f98fc4c.js"><link rel="prefetch" href="/Blog/assets/js/108.58c5bc28.js"><link rel="prefetch" href="/Blog/assets/js/109.93c6f88b.js"><link rel="prefetch" href="/Blog/assets/js/11.1a4f7260.js"><link rel="prefetch" href="/Blog/assets/js/110.4288cfb9.js"><link rel="prefetch" href="/Blog/assets/js/111.80efb004.js"><link rel="prefetch" href="/Blog/assets/js/112.5dcc3a84.js"><link rel="prefetch" href="/Blog/assets/js/113.dc7ea58f.js"><link rel="prefetch" href="/Blog/assets/js/114.27030405.js"><link rel="prefetch" href="/Blog/assets/js/116.6521a3f7.js"><link rel="prefetch" href="/Blog/assets/js/117.fee2d3ef.js"><link rel="prefetch" href="/Blog/assets/js/118.b8c936ff.js"><link rel="prefetch" href="/Blog/assets/js/119.25f1736e.js"><link rel="prefetch" href="/Blog/assets/js/12.a73e19a9.js"><link rel="prefetch" href="/Blog/assets/js/120.527e6dda.js"><link rel="prefetch" href="/Blog/assets/js/121.de77f07e.js"><link rel="prefetch" href="/Blog/assets/js/122.cf40de3c.js"><link rel="prefetch" href="/Blog/assets/js/123.c1b8a029.js"><link rel="prefetch" href="/Blog/assets/js/124.5e130ecb.js"><link rel="prefetch" href="/Blog/assets/js/125.7176a383.js"><link rel="prefetch" href="/Blog/assets/js/126.e31ce3bb.js"><link rel="prefetch" href="/Blog/assets/js/127.68215566.js"><link rel="prefetch" href="/Blog/assets/js/128.1f8f543f.js"><link rel="prefetch" href="/Blog/assets/js/129.ead46405.js"><link rel="prefetch" href="/Blog/assets/js/13.0fe329a7.js"><link rel="prefetch" href="/Blog/assets/js/130.812ec31b.js"><link rel="prefetch" href="/Blog/assets/js/131.57da5f16.js"><link rel="prefetch" href="/Blog/assets/js/132.717bef61.js"><link rel="prefetch" href="/Blog/assets/js/133.03cd25a2.js"><link rel="prefetch" href="/Blog/assets/js/14.1a86e8ba.js"><link rel="prefetch" href="/Blog/assets/js/15.484b65c2.js"><link rel="prefetch" href="/Blog/assets/js/16.682f178e.js"><link rel="prefetch" href="/Blog/assets/js/17.fa9336c5.js"><link rel="prefetch" href="/Blog/assets/js/18.39a4278d.js"><link rel="prefetch" href="/Blog/assets/js/19.e36a7c70.js"><link rel="prefetch" href="/Blog/assets/js/20.d9cf0aae.js"><link rel="prefetch" href="/Blog/assets/js/21.53064cbb.js"><link rel="prefetch" href="/Blog/assets/js/22.2ba17f83.js"><link rel="prefetch" href="/Blog/assets/js/23.fced31b8.js"><link rel="prefetch" href="/Blog/assets/js/24.340def84.js"><link rel="prefetch" href="/Blog/assets/js/25.58765567.js"><link rel="prefetch" href="/Blog/assets/js/26.8fe79f81.js"><link rel="prefetch" href="/Blog/assets/js/27.52df13b2.js"><link rel="prefetch" href="/Blog/assets/js/28.c9c7aaa9.js"><link rel="prefetch" href="/Blog/assets/js/29.7d46cab6.js"><link rel="prefetch" href="/Blog/assets/js/3.3025d786.js"><link rel="prefetch" href="/Blog/assets/js/30.a5cbbcd3.js"><link rel="prefetch" href="/Blog/assets/js/31.a3fe64fb.js"><link rel="prefetch" href="/Blog/assets/js/32.6f4b71df.js"><link rel="prefetch" href="/Blog/assets/js/33.f4870de4.js"><link rel="prefetch" href="/Blog/assets/js/34.a173ef06.js"><link rel="prefetch" href="/Blog/assets/js/35.a1137b9f.js"><link rel="prefetch" href="/Blog/assets/js/36.7a5ee652.js"><link rel="prefetch" href="/Blog/assets/js/37.253afd16.js"><link rel="prefetch" href="/Blog/assets/js/38.890dd74c.js"><link rel="prefetch" href="/Blog/assets/js/39.7a65a98a.js"><link rel="prefetch" href="/Blog/assets/js/4.2b42870a.js"><link rel="prefetch" href="/Blog/assets/js/40.f7532a18.js"><link rel="prefetch" href="/Blog/assets/js/41.aeb25632.js"><link rel="prefetch" href="/Blog/assets/js/42.6bcf4a55.js"><link rel="prefetch" href="/Blog/assets/js/43.348b83fb.js"><link rel="prefetch" href="/Blog/assets/js/44.6642a470.js"><link rel="prefetch" href="/Blog/assets/js/45.89e2574f.js"><link rel="prefetch" href="/Blog/assets/js/46.a9b0583a.js"><link rel="prefetch" href="/Blog/assets/js/47.70d0b6dc.js"><link rel="prefetch" href="/Blog/assets/js/48.d4201c5f.js"><link rel="prefetch" href="/Blog/assets/js/49.3381ed30.js"><link rel="prefetch" href="/Blog/assets/js/5.0fa05cd6.js"><link rel="prefetch" href="/Blog/assets/js/50.a429a35d.js"><link rel="prefetch" href="/Blog/assets/js/51.b58173cd.js"><link rel="prefetch" href="/Blog/assets/js/52.f05dc7dd.js"><link rel="prefetch" href="/Blog/assets/js/53.8391280d.js"><link rel="prefetch" href="/Blog/assets/js/54.17499480.js"><link rel="prefetch" href="/Blog/assets/js/55.9cd0e22f.js"><link rel="prefetch" href="/Blog/assets/js/56.5b17cbe1.js"><link rel="prefetch" href="/Blog/assets/js/57.f4ad5c1f.js"><link rel="prefetch" href="/Blog/assets/js/58.b013938d.js"><link rel="prefetch" href="/Blog/assets/js/59.1159eb77.js"><link rel="prefetch" href="/Blog/assets/js/6.e61f80cf.js"><link rel="prefetch" href="/Blog/assets/js/60.401d42b2.js"><link rel="prefetch" href="/Blog/assets/js/61.f0f7b454.js"><link rel="prefetch" href="/Blog/assets/js/62.fec8b981.js"><link rel="prefetch" href="/Blog/assets/js/63.1ca31b20.js"><link rel="prefetch" href="/Blog/assets/js/64.a028dfc6.js"><link rel="prefetch" href="/Blog/assets/js/65.b37496cb.js"><link rel="prefetch" href="/Blog/assets/js/66.7365dded.js"><link rel="prefetch" href="/Blog/assets/js/67.83d9d157.js"><link rel="prefetch" href="/Blog/assets/js/68.2992ee7b.js"><link rel="prefetch" href="/Blog/assets/js/69.301aded2.js"><link rel="prefetch" href="/Blog/assets/js/7.2e00c8c9.js"><link rel="prefetch" href="/Blog/assets/js/70.dcd1be9b.js"><link rel="prefetch" href="/Blog/assets/js/71.3fc4c611.js"><link rel="prefetch" href="/Blog/assets/js/72.1157b20c.js"><link rel="prefetch" href="/Blog/assets/js/73.8fafa20a.js"><link rel="prefetch" href="/Blog/assets/js/74.24093a1e.js"><link rel="prefetch" href="/Blog/assets/js/75.d8a1eadb.js"><link rel="prefetch" href="/Blog/assets/js/76.6f899447.js"><link rel="prefetch" href="/Blog/assets/js/77.bcee3cda.js"><link rel="prefetch" href="/Blog/assets/js/78.153a311c.js"><link rel="prefetch" href="/Blog/assets/js/79.3685754f.js"><link rel="prefetch" href="/Blog/assets/js/8.26736618.js"><link rel="prefetch" href="/Blog/assets/js/80.6bd9098a.js"><link rel="prefetch" href="/Blog/assets/js/81.725d4c95.js"><link rel="prefetch" href="/Blog/assets/js/82.a20dee6c.js"><link rel="prefetch" href="/Blog/assets/js/83.5f8df008.js"><link rel="prefetch" href="/Blog/assets/js/84.d71ced19.js"><link rel="prefetch" href="/Blog/assets/js/85.567f3716.js"><link rel="prefetch" href="/Blog/assets/js/86.aa9eabe6.js"><link rel="prefetch" href="/Blog/assets/js/87.d4b035f1.js"><link rel="prefetch" href="/Blog/assets/js/88.a8094f9e.js"><link rel="prefetch" href="/Blog/assets/js/89.6aa12ab8.js"><link rel="prefetch" href="/Blog/assets/js/9.6887a164.js"><link rel="prefetch" href="/Blog/assets/js/90.80e6f2ba.js"><link rel="prefetch" href="/Blog/assets/js/91.acd1dc71.js"><link rel="prefetch" href="/Blog/assets/js/92.94c291ae.js"><link rel="prefetch" href="/Blog/assets/js/93.50ebc5d2.js"><link rel="prefetch" href="/Blog/assets/js/94.4cf101b8.js"><link rel="prefetch" href="/Blog/assets/js/95.674db06a.js"><link rel="prefetch" href="/Blog/assets/js/96.fa4b1651.js"><link rel="prefetch" href="/Blog/assets/js/97.75bb55af.js"><link rel="prefetch" href="/Blog/assets/js/98.7f9892c0.js"><link rel="prefetch" href="/Blog/assets/js/99.1b210598.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.abe84f2e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">NorthBoat</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mine" class="dropdown-title"><span class="title">Mine</span> <span class="arrow down"></span></button> <button type="button" aria-label="Mine" class="mobile-dropdown-title"><span class="title">Mine</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/mine/notes/" class="nav-link">
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/Blog/mine/project/" class="nav-link">
  Project
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Professional Courses" class="dropdown-title"><span class="title">Professional Courses</span> <span class="arrow down"></span></button> <button type="button" aria-label="Professional Courses" class="mobile-dropdown-title"><span class="title">Professional Courses</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/course/compilation/" class="nav-link">
  Compilation
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/os/" class="nav-link">
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/net/" class="nav-link">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/datastruct/" class="nav-link">
  Datastruct
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/db/" class="nav-link">
  Data Base
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/organization/" class="nav-link">
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programming" class="dropdown-title"><span class="title">Programming</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programming" class="mobile-dropdown-title"><span class="title">Programming</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/programming/c++/" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/front/" class="nav-link">
  Front End
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/docker/" class="nav-link router-link-active">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/java/" class="nav-link">
  Java Tool
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Artificial Intelligence" class="dropdown-title"><span class="title">Artificial Intelligence</span> <span class="arrow down"></span></button> <button type="button" aria-label="Artificial Intelligence" class="mobile-dropdown-title"><span class="title">Artificial Intelligence</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/ai/toys/" class="nav-link">
  Toys
</a></li><li class="dropdown-item"><!----> <a href="/Blog/ai/course/" class="nav-link">
  Course
</a></li><li class="dropdown-item"><!----> <a href="/Blog/ai/python/" class="nav-link">
  Python
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mine" class="dropdown-title"><span class="title">Mine</span> <span class="arrow down"></span></button> <button type="button" aria-label="Mine" class="mobile-dropdown-title"><span class="title">Mine</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/mine/notes/" class="nav-link">
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/Blog/mine/project/" class="nav-link">
  Project
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Professional Courses" class="dropdown-title"><span class="title">Professional Courses</span> <span class="arrow down"></span></button> <button type="button" aria-label="Professional Courses" class="mobile-dropdown-title"><span class="title">Professional Courses</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/course/compilation/" class="nav-link">
  Compilation
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/os/" class="nav-link">
  Operating System
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/net/" class="nav-link">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/datastruct/" class="nav-link">
  Datastruct
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/db/" class="nav-link">
  Data Base
</a></li><li class="dropdown-item"><!----> <a href="/Blog/course/organization/" class="nav-link">
  Organization
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programming" class="dropdown-title"><span class="title">Programming</span> <span class="arrow down"></span></button> <button type="button" aria-label="Programming" class="mobile-dropdown-title"><span class="title">Programming</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/programming/c++/" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/front/" class="nav-link">
  Front End
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Blog/programming/golang/" class="nav-link">
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/docker/" class="nav-link router-link-active">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/api/" class="nav-link">
  API
</a></li><li class="dropdown-item"><!----> <a href="/Blog/tools/java/" class="nav-link">
  Java Tool
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Artificial Intelligence" class="dropdown-title"><span class="title">Artificial Intelligence</span> <span class="arrow down"></span></button> <button type="button" aria-label="Artificial Intelligence" class="mobile-dropdown-title"><span class="title">Artificial Intelligence</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/ai/toys/" class="nav-link">
  Toys
</a></li><li class="dropdown-item"><!----> <a href="/Blog/ai/course/" class="nav-link">
  Course
</a></li><li class="dropdown-item"><!----> <a href="/Blog/ai/python/" class="nav-link">
  Python
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Docker Java Api</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/tools/docker/api/DockerClient.html" aria-current="page" class="active sidebar-link">Docker-Client API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#creating-a-docker-client" class="sidebar-link">Creating a docker-client</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#unix-socket-support" class="sidebar-link">Unix socket support</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#https-support" class="sidebar-link">HTTPS support</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#connection-pooling" class="sidebar-link">Connection pooling</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#authentication-to-private-registries" class="sidebar-link">Authentication to private registries</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#containers" class="sidebar-link">Containers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#list-containers" class="sidebar-link">List containers</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-a-container" class="sidebar-link">Create a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#inspect-a-container" class="sidebar-link">Inspect a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#list-processes-running-inside-a-container" class="sidebar-link">List processes running inside a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-container-logs" class="sidebar-link">Get container logs</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#inspect-changes-on-a-container-s-filesystem" class="sidebar-link">Inspect changes on a container's filesystem</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#export-a-container" class="sidebar-link">Export a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-container-stats-based-on-resource-usage" class="sidebar-link">Get container stats based on resource usage</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#resize-a-container-tty" class="sidebar-link">Resize a container TTY</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#start-a-container" class="sidebar-link">Start a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#stop-a-container" class="sidebar-link">Stop a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#restart-a-container" class="sidebar-link">Restart a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#kill-a-container" class="sidebar-link">Kill a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#rename-a-container" class="sidebar-link">Rename a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#pause-a-container" class="sidebar-link">Pause a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#unpause-a-container" class="sidebar-link">Unpause a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#attach-to-a-container" class="sidebar-link">Attach to a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#attach-to-a-container-websocket" class="sidebar-link">Attach to a container (websocket)</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#wait-a-container" class="sidebar-link">Wait a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#remove-a-container" class="sidebar-link">Remove a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#copy-files-or-folders-from-a-container" class="sidebar-link">Copy files or folders from a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#retrieving-information-about-files-and-folders-in-a-container" class="sidebar-link">Retrieving information about files and folders in a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-an-archive-of-a-filesystem-resource-in-a-container" class="sidebar-link">Get an archive of a filesystem resource in a container</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#extract-an-archive-of-files-or-folders-to-a-directory-in-a-container" class="sidebar-link">Extract an archive of files or folders to a directory in a container</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#networks" class="sidebar-link">Networks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#inspect-a-network" class="sidebar-link">Inspect a network</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-a-network" class="sidebar-link">Create a network</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#remove-a-network" class="sidebar-link">Remove a network</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#attach-a-container-to-an-existing-network" class="sidebar-link">Attach a container to an existing network</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#detach-a-container-from-a-network" class="sidebar-link">Detach a container from a network</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#secrets" class="sidebar-link">Secrets</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-secret" class="sidebar-link">Create secret</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#images" class="sidebar-link">Images</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#list-images" class="sidebar-link">List images</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#build-image-from-a-dockerfile" class="sidebar-link">Build image from a Dockerfile</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-an-image" class="sidebar-link">Create an image</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#inspect-an-image" class="sidebar-link">Inspect an image</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-the-history-of-an-image" class="sidebar-link">Get the history of an image</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#push-an-image-on-the-registry" class="sidebar-link">Push an image on the registry</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#tag-an-image-into-a-repository" class="sidebar-link">Tag an image into a repository</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#remove-an-image" class="sidebar-link">Remove an image</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#search-images" class="sidebar-link">Search images</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#miscellaneous" class="sidebar-link">Miscellaneous</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#check-auth-configuration" class="sidebar-link">Check auth configuration</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#display-system-wide-information" class="sidebar-link">Display system-wide information</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#show-the-docker-version-information" class="sidebar-link">Show the docker version information</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#ping-the-docker-server" class="sidebar-link">Ping the docker server</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-a-new-image-from-a-container-s-changes" class="sidebar-link">Create a new image from a container's changes</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#monitor-docker-s-events" class="sidebar-link">Monitor Docker's events</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-a-tarball-containing-all-images-in-a-repository" class="sidebar-link">Get a tarball containing all images in a repository</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#get-a-tarball-containing-all-images" class="sidebar-link">Get a tarball containing all images.</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#load-a-tarball-with-a-set-of-images-and-tags-into-docker" class="sidebar-link">Load a tarball with a set of images and tags into docker</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#exec-create" class="sidebar-link">Exec Create</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#exec-start" class="sidebar-link">Exec Start</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#exec-resize" class="sidebar-link">Exec Resize</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#exec-inspect" class="sidebar-link">Exec Inspect</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#volumes" class="sidebar-link">Volumes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#list-volumes" class="sidebar-link">List volumes</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#create-a-volume" class="sidebar-link">Create a volume</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#inspect-a-volume" class="sidebar-link">Inspect a volume</a></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#remove-a-volume" class="sidebar-link">Remove a volume</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#mounting-directories-in-a-container" class="sidebar-link">Mounting directories in a container</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#a-note-on-mounts" class="sidebar-link">A note on mounts</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/tools/docker/api/DockerClient.html#http-500-errors-returned-from-the-docker-remote-api" class="sidebar-link">HTTP 500 errors returned from the Docker Remote API</a></li></ul></li><li><a href="/Blog/tools/docker/api/DockerJava.html" class="sidebar-link">Docker-Java</a></li><li><a href="/Blog/tools/docker/api/DockerRunner.html" class="sidebar-link">Runer</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="docker-client-api"><a href="#docker-client-api" class="header-anchor">#</a> Docker-Client API</h1> <p>This user manual is made to correspond to Docker's <a href="https://docs.docker.com/engine/reference/api/docker_remote_api/" target="_blank" rel="noopener noreferrer">API docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (e.g. <a href="https://docs.docker.com/engine/reference/api/docker_remote_api_v1.18/" target="_blank" rel="noopener noreferrer">API 1.18<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <ul><li><a href="#creating-a-docker-client">Creating a DockerClient</a> <ul><li><a href="#unix-socket-support">Unix socket support</a></li> <li><a href="#https-support">HTTPS support</a></li> <li><a href="#connection-pooling">Connection pooling</a></li></ul></li> <li><a href="#authentication-to-private-registries">Authentication to private registries</a></li> <li><a href="#containers">Containers</a> <ul><li><a href="#list-containers">List containers</a></li> <li><a href="#create-a-container">Create a container</a></li> <li><a href="#inspect-a-container">Inspect a container</a></li> <li><a href="#list-processes-running-inside-a-container">List processes running inside a container</a></li> <li><a href="#get-container-logs">Get container logs</a></li> <li><a href="#inspect-changes-on-a-containers-filesystem">Inspect changes on a container's filesystem</a></li> <li><a href="#export-a-container">Export a container</a></li> <li><a href="#get-container-stats-based-on-resource-usage">Get container stats based on resource usage</a></li> <li><a href="#resize-a-container-tty">Resize a container TTY</a></li> <li><a href="#start-a-container">Start a container</a></li> <li><a href="#stop-a-container">Stop a container</a></li> <li><a href="#restart-a-container">Restart a container</a></li> <li><a href="#kill-a-container">Kill a container</a></li> <li><a href="#rename-a-container">Rename a container</a></li> <li><a href="#pause-a-container">Pause a container</a></li> <li><a href="#unpause-a-container">Unpause a container</a></li> <li><a href="#attach-to-a-container">Attach to a container</a></li> <li><a href="#attach-to-a-container-websocket">Attach to a container (websocket)</a></li> <li><a href="#wait-a-container">Wait a container</a></li> <li><a href="#remove-a-container">Remove a container</a></li> <li><a href="#copy-files-or-folders-from-a-container">Copy files or folders from a container</a></li></ul></li> <li><a href="#secrets">Secrets</a> <ul><li><a href="#create-secret">Create Secret</a></li></ul></li> <li><a href="#images">Images</a> <ul><li><a href="#list-images">List Images</a></li> <li><a href="#build-image-from-a-dockerfile">Build image from a Dockerfile</a></li> <li><a href="#create-an-image">Create an image</a></li> <li><a href="#inspect-an-image">Inspect an image</a></li> <li><a href="#get-the-history-of-an-image">Get the history of an image</a></li> <li><a href="#push-an-image-on-the-registry">Push an image on the registry</a></li> <li><a href="#tag-an-image-into-a-repository">Tag an image into a repository</a></li> <li><a href="#remove-an-image">Remove an image</a></li> <li><a href="#search-images">Search images</a></li></ul></li> <li><a href="#miscellaneous">Miscellaneous</a> <ul><li><a href="#check-auth-configuration">Check auth configuration</a></li> <li><a href="#display-system-wide-information">Display system-wide information</a></li> <li><a href="#show-the-docker-version-information">Show the docker version information</a></li> <li><a href="#ping-the-docker-server">Ping the docker server</a></li> <li><a href="#create-a-new-image-from-a-containers-changes">Create a new image from a container’s changes</a></li> <li><a href="#monitor-dockers-events">Monitor Docker’s events</a></li> <li><a href="#get-a-tarball-containing-all-images-in-a-repository">Get a tarball containing all images in a repository</a></li> <li><a href="#get-a-tarball-containing-all-images">Get a tarball containing all images.</a></li> <li><a href="#load-a-tarball-with-a-set-of-images-and-tags-into-docker">Load a tarball with a set of images and tags into docker</a></li> <li><a href="#image-tarball-format">Image tarball format</a></li> <li><a href="#exec-create">Exec Create</a></li> <li><a href="#exec-start">Exec Start</a></li> <li><a href="#exec-resize">Exec Resize</a></li> <li><a href="#exec-inspect">Exec Inspect</a></li> <li><a href="#mounting-volumes-in-a-container">Mounting volumes in a container</a></li></ul></li> <li><a href="#troubleshooting">Troubleshooting</a></li></ul> <h2 id="creating-a-docker-client"><a href="#creating-a-docker-client" class="header-anchor">#</a> Creating a docker-client</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Create a client based on DOCKER_HOST and DOCKER_CERT_PATH env vars</span>
<span class="token keyword">final</span> <span class="token class-name">DockerClient</span> docker <span class="token operator">=</span> <span class="token class-name">DefaultDockerClient</span><span class="token punctuation">.</span><span class="token function">fromEnv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or use the builder</span>
<span class="token keyword">final</span> <span class="token class-name">DockerClient</span> docker <span class="token operator">=</span> <span class="token class-name">DefaultDockerClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// Set various options</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Both <code>DefaultDockerClient.builder()</code> and <code>DefaultDockerClient.fromEnv()</code> return a
<code>DefaultDockerClient.Builder</code>. The builder can be used to configure and build clients with custom
timeouts, connection pool sizes, and other parameters.</p> <h3 id="unix-socket-support"><a href="#unix-socket-support" class="header-anchor">#</a> Unix socket support</h3> <p>Unix socket support is available on Linux since v2.5.0:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">DockerClient</span> docker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultDockerClient</span><span class="token punctuation">(</span><span class="token string">&quot;unix:///var/run/docker.sock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="https-support"><a href="#https-support" class="header-anchor">#</a> HTTPS support</h3> <p>We can connect to <a href="https://docs.docker.com/articles/https/" target="_blank" rel="noopener noreferrer">HTTPS-secured Docker instances<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
with client-server authentication. The semantics are similar to using <a href="https://docs.docker.com/articles/https/#client-modes" target="_blank" rel="noopener noreferrer">the <code>DOCKER_CERT_PATH</code>
environment variable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">DockerClient</span> docker <span class="token operator">=</span> <span class="token class-name">DefaultDockerClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span>URI<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;https://boot2docker:2376&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">dockerCertificates</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DockerCertificates</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/Users/rohan/.docker/boot2docker-vm/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="connection-pooling"><a href="#connection-pooling" class="header-anchor">#</a> Connection pooling</h3> <p>We use the <a href="https://hc.apache.org/" target="_blank" rel="noopener noreferrer">Apache HTTP client<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> under the covers, with a shared connection
pool per instance of the Docker client. The default size of this pool is 100 connections, so each
instance of the Docker client can only have 100 concurrent requests in flight.</p> <p>If you plan on waiting on more than 100 containers at a time (<code>DockerClient.waitContainer</code>), or
otherwise need a higher number of concurrent requests, you can modify the connection pool size:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">DockerClient</span> docker <span class="token operator">=</span> <span class="token class-name">DefaultDockerClient</span><span class="token punctuation">.</span><span class="token function">fromEnv</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">connectionPoolSize</span><span class="token punctuation">(</span>SOME_LARGE_NUMBER<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Note that the connect timeout is also applied to acquiring a connection from the pool. If the pool
is exhausted and it takes too long to acquire a new connection for a request, we throw a
<code>DockerTimeoutException</code> instead of just waiting forever on a connection becoming available.</p> <h2 id="authentication-to-private-registries"><a href="#authentication-to-private-registries" class="header-anchor">#</a> Authentication to private registries</h2> <p>Authentication info when building, pushing, or pulling images, or when using
Swarm, is provided by a <code>RegistryAuthSupplier</code> class.</p> <p>Docker-client is packaged with a few implementations of this interface</p> <ul><li><code>auth.ConfigFileRegistryAuthSupplier</code>, which reads authentication info from
the the config files used by docker-cli (<code>~/.dockercfg</code> or
<code>~/.docker/config.json</code>)</li> <li><code>auth.FixedRegistryAuthSupplier</code> which uses a fixed instance of the
<code>RegistryAuth</code> and <code>RegistryConfigs</code> POJOs</li> <li><code>auth.gcr.ContainerRegistryAuthSupplier</code>, which programmatically fetches
access tokens for use with Google Container Registry based on given Google
Cloud account credentials</li> <li><code>auth.MultiRegistryAuthSupplier</code>, which can be used to combine multiple other
implementations</li></ul> <p>Users are encouraged to implement the <code>RegistryAuthSupplier</code> interface
themselves to support custom authentication logic, and we would be happy to
review and accept pull requests to add support in the library for additional
schemes.</p> <p>Since version 8.7.0, docker-client will automatically enable the
<code>ConfigFileRegistryAuthSupplier</code> class in <code>DefaultDockerClient</code> as long as none
of the other authentication-related methods in the
<code>DefaultDockerClient.Builder</code> class (<code>dockerAuth(boolean)</code>,
<code>registryAuth(RegistryAuth)</code>, or <code>registryAuthSupplier(RegistryAuthSupplier)</code>)
are used.</p> <h2 id="containers"><a href="#containers" class="header-anchor">#</a> Containers</h2> <h3 id="list-containers"><a href="#list-containers" class="header-anchor">#</a> List containers</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Container</span><span class="token punctuation">&gt;</span></span> containers <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">listContainers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// List all containers. Only running containers are shown by default.</span>
<span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Container</span><span class="token punctuation">&gt;</span></span> containers <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">listContainers</span><span class="token punctuation">(</span><span class="token class-name">ListContainersParam</span><span class="token punctuation">.</span><span class="token function">allContainers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="create-a-container"><a href="#create-a-container" class="header-anchor">#</a> Create a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">ContainerCreation</span> container <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">createContainer</span><span class="token punctuation">(</span><span class="token class-name">ContainerConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="inspect-a-container"><a href="#inspect-a-container" class="header-anchor">#</a> Inspect a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">ContainerInfo</span> info <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">inspectContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="list-processes-running-inside-a-container"><a href="#list-processes-running-inside-a-container" class="header-anchor">#</a> List processes running inside a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">TopResults</span> topResults <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">topContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ps_args&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="get-container-logs"><a href="#get-container-logs" class="header-anchor">#</a> Get container logs</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">String</span> logs<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">LogStream</span> stream <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">logs</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token class-name">LogsParam</span><span class="token punctuation">.</span><span class="token function">stdout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">LogsParam</span><span class="token punctuation">.</span><span class="token function">stderr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logs <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="inspect-changes-on-a-container-s-filesystem"><a href="#inspect-changes-on-a-container-s-filesystem" class="header-anchor">#</a> Inspect changes on a container's filesystem</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ContainerChange</span><span class="token punctuation">&gt;</span></span> changes <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">inspectContainerChanges</span><span class="token punctuation">(</span><span class="token string">&quot;containerId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="export-a-container"><a href="#export-a-container" class="header-anchor">#</a> Export a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ImmutableSet<span class="token punctuation">.</span>Builder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> files <span class="token operator">=</span> <span class="token class-name">ImmutableSet</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">TarArchiveInputStream</span> tarStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TarArchiveInputStream</span><span class="token punctuation">(</span>docker<span class="token punctuation">.</span><span class="token function">exportContainer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">TarArchiveEntry</span> entry<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>entry <span class="token operator">=</span> tarStream<span class="token punctuation">.</span><span class="token function">getNextTarEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    files<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="get-container-stats-based-on-resource-usage"><a href="#get-container-stats-based-on-resource-usage" class="header-anchor">#</a> Get container stats based on resource usage</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">ContainerStats</span> stats <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">stats</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="resize-a-container-tty"><a href="#resize-a-container-tty" class="header-anchor">#</a> Resize a container TTY</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">resizeTty</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="start-a-container"><a href="#start-a-container" class="header-anchor">#</a> Start a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">startContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="stop-a-container"><a href="#stop-a-container" class="header-anchor">#</a> Stop a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">stopContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// kill after 10 seconds</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="restart-a-container"><a href="#restart-a-container" class="header-anchor">#</a> Restart a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">restartContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or with a seconds to wait before restarting parameter</span>
docker<span class="token punctuation">.</span><span class="token function">restartContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="kill-a-container"><a href="#kill-a-container" class="header-anchor">#</a> Kill a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">killContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="rename-a-container"><a href="#rename-a-container" class="header-anchor">#</a> Rename a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">renameContainer</span><span class="token punctuation">(</span><span class="token string">&quot;oldContainerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;newContainerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pause-a-container"><a href="#pause-a-container" class="header-anchor">#</a> Pause a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">pauseContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="unpause-a-container"><a href="#unpause-a-container" class="header-anchor">#</a> Unpause a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">unpauseContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="attach-to-a-container"><a href="#attach-to-a-container" class="header-anchor">#</a> Attach to a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">String</span> logs<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">LogStream</span> stream <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">attachContainer</span><span class="token punctuation">(</span>volumeContainer<span class="token punctuation">,</span>
      <span class="token class-name">AttachParameter</span><span class="token punctuation">.</span>LOGS<span class="token punctuation">,</span> <span class="token class-name">AttachParameter</span><span class="token punctuation">.</span>STDOUT<span class="token punctuation">,</span>
      <span class="token class-name">AttachParameter</span><span class="token punctuation">.</span>STDERR<span class="token punctuation">,</span> <span class="token class-name">AttachParameter</span><span class="token punctuation">.</span>STREAM<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logs <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">readFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="attach-to-a-container-websocket"><a href="#attach-to-a-container-websocket" class="header-anchor">#</a> Attach to a container (websocket)</h3> <p>Not implemented. PRs welcome.</p> <h3 id="wait-a-container"><a href="#wait-a-container" class="header-anchor">#</a> Wait a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">ContainerExit</span> exit <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">waitContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="remove-a-container"><a href="#remove-a-container" class="header-anchor">#</a> Remove a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">removeContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="copy-files-or-folders-from-a-container"><a href="#copy-files-or-folders-from-a-container" class="header-anchor">#</a> Copy files or folders from a container</h3> <p><em>NOTE: deprecated in favor of <a href="#get-an-archive-of-a-filesystem-resource-in-a-container">archive</a></em></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ImmutableSet<span class="token punctuation">.</span>Builder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> files <span class="token operator">=</span> <span class="token class-name">ImmutableSet</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">TarArchiveInputStream</span> tarStream <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">TarArchiveInputStream</span><span class="token punctuation">(</span>docker<span class="token punctuation">.</span><span class="token function">copyContainer</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token string">&quot;/bin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">TarArchiveEntry</span> entry<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>entry <span class="token operator">=</span> tarStream<span class="token punctuation">.</span><span class="token function">getNextTarEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    files<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="retrieving-information-about-files-and-folders-in-a-container"><a href="#retrieving-information-about-files-and-folders-in-a-container" class="header-anchor">#</a> Retrieving information about files and folders in a container</h3> <p>Not implemented. PRs welcome.</p> <h3 id="get-an-archive-of-a-filesystem-resource-in-a-container"><a href="#get-an-archive-of-a-filesystem-resource-in-a-container" class="header-anchor">#</a> Get an archive of a filesystem resource in a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">TarArchiveInputStream</span> tarStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TarArchiveInputStream</span><span class="token punctuation">(</span>docker<span class="token punctuation">.</span><span class="token function">archiveContainer</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/file/path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">TarArchiveEntry</span> entry<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>entry <span class="token operator">=</span> tarStream<span class="token punctuation">.</span><span class="token function">getNextTarEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do stuff with the files in the stream</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>将文件拷贝至容器之中：</p> <h3 id="extract-an-archive-of-files-or-folders-to-a-directory-in-a-container"><a href="#extract-an-archive-of-files-or-folders-to-a-directory-in-a-container" class="header-anchor">#</a> Extract an archive of files or folders to a directory in a container</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">copyToContainer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>File</span><span class="token punctuation">(</span><span class="token string">&quot;/local/path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/path/in/container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="networks"><a href="#networks" class="header-anchor">#</a> Networks</h2> <h3 id="inspect-a-network"><a href="#inspect-a-network" class="header-anchor">#</a> Inspect a network</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">inspectNetwork</span><span class="token punctuation">(</span><span class="token string">&quot;networkID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="create-a-network"><a href="#create-a-network" class="header-anchor">#</a> Create a network</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">NetworkConfig</span> networkConfig <span class="token operator">=</span> <span class="token class-name">NetworkConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                           <span class="token punctuation">.</span><span class="token function">checkDuplicate</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                                           <span class="token punctuation">.</span><span class="token function">attachable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                                           <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;newNetwork&quot;</span><span class="token punctuation">)</span>
                                           <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">createNetwork</span><span class="token punctuation">(</span>networkConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="remove-a-network"><a href="#remove-a-network" class="header-anchor">#</a> Remove a network</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">removeNetwork</span><span class="token punctuation">(</span><span class="token string">&quot;networkID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="attach-a-container-to-an-existing-network"><a href="#attach-a-container-to-an-existing-network" class="header-anchor">#</a> Attach a container to an existing network</h3> <p>This should be called before starting a container, but may fail silently if duplicate networks exist.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">connectToNetwork</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;networkID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="detach-a-container-from-a-network"><a href="#detach-a-container-from-a-network" class="header-anchor">#</a> Detach a container from a network</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">disconnectFromNetwork</span><span class="token punctuation">(</span><span class="token string">&quot;containerID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;networkID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="secrets"><a href="#secrets" class="header-anchor">#</a> Secrets</h2> <h3 id="create-secret"><a href="#create-secret" class="header-anchor">#</a> Create secret</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">SecretSpec</span> secret <span class="token operator">=</span> <span class="token class-name">SecretSpec</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;asecret&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>base64encodeddata<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">createSecret</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="images"><a href="#images" class="header-anchor">#</a> Images</h2> <h3 id="list-images"><a href="#list-images" class="header-anchor">#</a> List images</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span><span class="token punctuation">&gt;</span></span> quxImages <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">listImages</span><span class="token punctuation">(</span><span class="token class-name">ListImagesParam</span><span class="token punctuation">.</span><span class="token function">withLabel</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="build-image-from-a-dockerfile"><a href="#build-image-from-a-dockerfile" class="header-anchor">#</a> Build image from a Dockerfile</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">AtomicReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> imageIdFromMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">String</span> returnedImageId <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>
    <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>dockerDirectory<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ProgressHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">progress</span><span class="token punctuation">(</span><span class="token class-name">ProgressMessage</span> message<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">DockerException</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">String</span> imageId <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">buildImageId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imageId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          imageIdFromMessage<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>imageId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="create-an-image"><a href="#create-an-image" class="header-anchor">#</a> Create an image</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// By pulling</span>
<span class="token keyword">final</span> <span class="token class-name">RegistryAuth</span> registryAuth <span class="token operator">=</span> <span class="token class-name">RegistryAuth</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>AUTH_EMAIL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span>AUTH_USERNAME<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>AUTH_PASSWORD<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token string">&quot;dxia2/scratch-private:latest&quot;</span><span class="token punctuation">,</span> registryAuth<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or by loading from a source</span>
<span class="token keyword">final</span> <span class="token class-name">File</span> imageFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/image/file&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> image <span class="token operator">=</span> <span class="token string">&quot;busybox-test&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> imagePayload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>imageFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  docker<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> imagePayload<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="inspect-an-image"><a href="#inspect-an-image" class="header-anchor">#</a> Inspect an image</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">ImageInfo</span> info <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">inspectImage</span><span class="token punctuation">(</span><span class="token string">&quot;imageID&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="get-the-history-of-an-image"><a href="#get-the-history-of-an-image" class="header-anchor">#</a> Get the history of an image</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ImageHistory</span><span class="token punctuation">&gt;</span></span> imageHistoryList <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">history</span><span class="token punctuation">(</span><span class="token string">&quot;imageID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="push-an-image-on-the-registry"><a href="#push-an-image-on-the-registry" class="header-anchor">#</a> Push an image on the registry</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;imageID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="tag-an-image-into-a-repository"><a href="#tag-an-image-into-a-repository" class="header-anchor">#</a> Tag an image into a repository</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;testRepo/tagForce:sometag&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// Assign name to first image</span>
docker<span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Force-re-assign tag to another image</span>
docker<span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:buildroot-2014.02&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="remove-an-image"><a href="#remove-an-image" class="header-anchor">#</a> Remove an image</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">removeImage</span><span class="token punctuation">(</span><span class="token string">&quot;imageID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="search-images"><a href="#search-images" class="header-anchor">#</a> Search images</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ImageSearchResult</span><span class="token punctuation">&gt;</span></span> searchResult <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">searchImages</span><span class="token punctuation">(</span><span class="token string">&quot;busybox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="miscellaneous"><a href="#miscellaneous" class="header-anchor">#</a> Miscellaneous</h2> <h3 id="check-auth-configuration"><a href="#check-auth-configuration" class="header-anchor">#</a> Check auth configuration</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">RegistryAuth</span> registryAuth <span class="token operator">=</span> <span class="token class-name">RegistryAuth</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span>AUTH_EMAIL<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span>AUTH_USERNAME<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span>AUTH_PASSWORD<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> statusCode <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">auth</span><span class="token punctuation">(</span>registryAuth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>statusCode<span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="display-system-wide-information"><a href="#display-system-wide-information" class="header-anchor">#</a> Display system-wide information</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">Info</span> info <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="show-the-docker-version-information"><a href="#show-the-docker-version-information" class="header-anchor">#</a> Show the docker version information</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">Version</span> version <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="ping-the-docker-server"><a href="#ping-the-docker-server" class="header-anchor">#</a> Ping the docker server</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">String</span> pingResponse <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>pingResponse<span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;OK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="create-a-new-image-from-a-container-s-changes"><a href="#create-a-new-image-from-a-container-s-changes" class="header-anchor">#</a> Create a new image from a container's changes</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// Pull image</span>
docker<span class="token punctuation">.</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create container</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerConfig</span> config <span class="token operator">=</span> <span class="token class-name">ContainerConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token function">randomName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerCreation</span> creation <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">createContainer</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> id <span class="token operator">=</span> creation<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">String</span> tag <span class="token operator">=</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerCreation</span> newContainer <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">commitContainer</span><span class="token punctuation">(</span>
    id<span class="token punctuation">,</span> <span class="token string">&quot;mosheeshel/busybox&quot;</span><span class="token punctuation">,</span> tag<span class="token punctuation">,</span> config<span class="token punctuation">,</span> <span class="token string">&quot;CommitedByTest-&quot;</span> <span class="token operator">+</span> tag<span class="token punctuation">,</span> <span class="token string">&quot;newContainer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">ImageInfo</span> imageInfo <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">inspectImage</span><span class="token punctuation">(</span>newContainer<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>imageInfo<span class="token punctuation">.</span><span class="token function">author</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token string">&quot;newContainer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>imageInfo<span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token string">&quot;CommitedByTest-&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="monitor-docker-s-events"><a href="#monitor-docker-s-events" class="header-anchor">#</a> Monitor Docker's events</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">EventStream</span> eventStream <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerConfig</span> config <span class="token operator">=</span> <span class="token class-name">ContainerConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerCreation</span> container <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">createContainer</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> <span class="token function">randomName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">startContainer</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">Event</span> createEvent <span class="token operator">=</span> eventStream<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;create&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>createEvent<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">notNullValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">Event</span> startEvent <span class="token operator">=</span> eventStream<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>startEvent<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>startEvent<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">equalTo</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>startEvent<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>startEvent<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">notNullValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

eventStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="get-a-tarball-containing-all-images-in-a-repository"><a href="#get-a-tarball-containing-all-images-in-a-repository" class="header-anchor">#</a> Get a tarball containing all images in a repository</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">File</span> imageFile <span class="token operator">=</span> <span class="token function">save</span><span class="token punctuation">(</span>BUSYBOX<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertTrue</span><span class="token punctuation">(</span>imageFile<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">final</span> <span class="token class-name">File</span> tmpDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.io.tmpdir&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertTrue</span><span class="token punctuation">(</span><span class="token string">&quot;Temp directory &quot;</span> <span class="token operator">+</span> tmpDir<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; does not exist&quot;</span><span class="token punctuation">,</span> tmpDir<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">File</span> imageFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>tmpDir<span class="token punctuation">,</span> <span class="token string">&quot;busybox-&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.tar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

imageFile<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
imageFile<span class="token punctuation">.</span><span class="token function">deleteOnExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">2048</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> read<span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">OutputStream</span> imageOutput <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>imageFile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> imageInput <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token string">&quot;busybox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>read <span class="token operator">=</span> imageInput<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      imageOutput<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> read<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="get-a-tarball-containing-all-images"><a href="#get-a-tarball-containing-all-images" class="header-anchor">#</a> Get a tarball containing all images.</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> imageInput <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">saveMultiple</span><span class="token punctuation">(</span><span class="token string">&quot;image0&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;image1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>read <span class="token operator">=</span> imageInput<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Do stuff with the tar stream of images</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="load-a-tarball-with-a-set-of-images-and-tags-into-docker"><a href="#load-a-tarball-with-a-set-of-images-and-tags-into-docker" class="header-anchor">#</a> Load a tarball with a set of images and tags into docker</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">File</span> tarFileWithMultipleImages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/tarball&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> imagePayload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>tarFileWithMultipleImages<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  docker<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> imagePayload<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>用Exec命令启动容器：</p> <h3 id="exec-create"><a href="#exec-create" class="header-anchor">#</a> Exec Create</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">String</span> execId <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">execCreate</span><span class="token punctuation">(</span>containerId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;sh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;exit 2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">LogStream</span> stream <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">execStart</span><span class="token punctuation">(</span>execId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  stream<span class="token punctuation">.</span><span class="token function">readFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">final</span> <span class="token class-name">ExecState</span> state <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">execInspect</span><span class="token punctuation">(</span>execId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span>execId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">exitCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">openStdin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">openStderr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">assertThat</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">openStdout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="exec-start"><a href="#exec-start" class="header-anchor">#</a> Exec Start</h3> <p>See <a href="#exec-create">example above</a>.</p> <h3 id="exec-resize"><a href="#exec-resize" class="header-anchor">#</a> Exec Resize</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
docker<span class="token punctuation">.</span><span class="token function">execResizeTty</span><span class="token punctuation">(</span><span class="token string">&quot;execID&quot;</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="exec-inspect"><a href="#exec-inspect" class="header-anchor">#</a> Exec Inspect</h3> <p>See <a href="#exec-create">example above</a>.</p> <h2 id="volumes"><a href="#volumes" class="header-anchor">#</a> Volumes</h2> <h3 id="list-volumes"><a href="#list-volumes" class="header-anchor">#</a> List volumes</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">VolumeList</span> volumeList <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">listVolumes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> warnings <span class="token operator">=</span> volumeList<span class="token punctuation">.</span><span class="token function">warnings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Volume</span><span class="token punctuation">&gt;</span></span> volumes <span class="token operator">=</span> volumeList<span class="token punctuation">.</span><span class="token function">volumes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="create-a-volume"><a href="#create-a-volume" class="header-anchor">#</a> Create a volume</h3> <p>Create a volume with specified properties:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">Volume</span> toCreate <span class="token operator">=</span> <span class="token class-name">Volume</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;volumeName&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token string">&quot;local&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">labels</span><span class="token punctuation">(</span><span class="token class-name">ImmutableMap</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">Volume</span> created <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">createVolume</span><span class="token punctuation">(</span>toCreate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Or create an anonymous volume:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">Volume</span> created <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">createVolume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="inspect-a-volume"><a href="#inspect-a-volume" class="header-anchor">#</a> Inspect a volume</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">Volume</span> volume <span class="token operator">=</span> docker<span class="token punctuation">.</span><span class="token function">inspectVolume</span><span class="token punctuation">(</span><span class="token string">&quot;volumeName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="remove-a-volume"><a href="#remove-a-volume" class="header-anchor">#</a> Remove a volume</h3> <p>By name</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">removeVolume</span><span class="token punctuation">(</span><span class="token string">&quot;volumeName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Or by object reference</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>docker<span class="token punctuation">.</span><span class="token function">removeVolume</span><span class="token punctuation">(</span>volume<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="going-further"><a href="#going-further" class="header-anchor">#</a> Going Further</h1> <h2 id="mounting-directories-in-a-container"><a href="#mounting-directories-in-a-container" class="header-anchor">#</a> Mounting directories in a container</h2> <p>To mount a host directory into a container, create the container with a <code>HostConfig</code>.
You can set the local path and remote path in the <code>binds()</code> method on the <code>HostConfig.Builder</code>.
There are two ways to make a bind:</p> <ol><li>Pass <code>binds()</code> a set of strings of the form <code>&quot;local_path:container_path&quot;</code> for read/write or <code>&quot;local_path:container_path:ro&quot;</code> for read only.</li> <li>Create a <code>Bind</code> object and pass it to <code>binds()</code> (or <code>appendBinds()</code> if you want to incrementally add multiple <code>Bind</code>s).</li></ol> <p>When you create a <code>Bind</code>, you are making a connection from outside the container to inside; as such, you must give a <code>Bind</code> object a <code>from</code> and a <code>to</code>. <code>from</code> can be given either by a <code>String</code> containing the path to a local file or directory, or a pre-existing <code>Volume</code> object. <code>to</code> must be a <code>String</code> containing the path to be bound inside the container.</p> <p>If you only need to create a volume to be mounted in a container, but you don't need it to be bound to any particular directory on the host, you can use the <code>ContainerConfig.Builder.volumes(&quot;/path&quot;)</code> method. The path you give to this method will be created inside the container, but does not correspond to anything outside.</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token class-name">HostConfig</span> hostConfig <span class="token operator">=</span>
  <span class="token class-name">HostConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">appendBinds</span><span class="token punctuation">(</span><span class="token string">&quot;/local/path:/remote/path&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">appendBinds</span><span class="token punctuation">(</span><span class="token class-name">Bind</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;/another/local/path&quot;</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token string">&quot;/another/remote/path&quot;</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">readOnly</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">appendBinds</span><span class="token punctuation">(</span><span class="token class-name">Bind</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>aVolume<span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token string">&quot;/yet/another/remote/path&quot;</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">readOnly</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">ContainerConfig</span> volumeConfig <span class="token operator">=</span>
  <span class="token class-name">ContainerConfig</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token string">&quot;busybox:latest&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">volumes</span><span class="token punctuation">(</span><span class="token string">&quot;/foo&quot;</span><span class="token punctuation">)</span>   <span class="token comment">// This volume will not mount any host directory</span>
    <span class="token punctuation">.</span><span class="token function">hostConfig</span><span class="token punctuation">(</span>hostConfig<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="a-note-on-mounts"><a href="#a-note-on-mounts" class="header-anchor">#</a> A note on mounts</h3> <p>Be aware that, starting with API version 1.20 (docker version 1.8.x), information
about a container's volumes is returned with the key <code>&quot;Mounts&quot;</code>, not <code>&quot;Volumes&quot;</code>.
As such, the <code>ContainerInfo.volumes()</code> method is deprecated. Instead, use
<code>ContainerInfo.mounts()</code>.</p> <h1 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h1> <h2 id="http-500-errors-returned-from-the-docker-remote-api"><a href="#http-500-errors-returned-from-the-docker-remote-api" class="header-anchor">#</a> HTTP 500 errors returned from the Docker Remote API</h2> <p>docker-client communicates with your local Docker daemon using the HTTP Remote
API and any unexpected errors that the daemon encounters will be reported as a
500 Internal Server Error, which bubbles up from docker-client as an exception
like:</p> <blockquote><p>Caused by: com.spotify.docker.client.shaded.javax.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error</p></blockquote> <p>Check the Docker daemon log (typically at <code>/var/log/docker.log</code> or
<code>/var/log/upstart/docker.log</code>) for more details as to the root cause.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Blog/tools/docker/docker/RunningCodeInJDK.html" class="prev">
        Running code in jdk
      </a></span> <span class="next"><a href="/Blog/tools/docker/api/DockerJava.html">
        Docker-Java
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.5b462d01.js" defer></script><script src="/Blog/assets/js/2.6b285d51.js" defer></script><script src="/Blog/assets/js/115.f2688d1d.js" defer></script>
  </body>
</html>
